"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[7],{7007:(ot,f,r)=>{r.r(f),r.d(f,{EstatesModule:()=>nt});var d=r(177),b=r(4341),k=r(1747),E=r(9640),_=r(513),p=r(2602),u=r(4191),w=r(2047),x=r(3390),s=r(4041),h=r(2552),T=r(8221),v=r(9183),F=r(8543),z=r(7211),j=r(1188),y=r(370),t=r(4438),g=r(6389),C=r(5930),G=r(3457),m=r(1868);function R(n,a){if(1&n&&(t.j41(0,"div",2),t.EFF(1),t.k0s()),2&n){let e;const i=t.XpG(),o=t.sdS(3);t.Y8G("nzDropdownMenu",o),t.R7$(),t.JRh(null==(e=i.estate().owner)?null:e.name)}}function O(n,a){if(1&n&&(t.j41(0,"td",5)(1,"div",7),t.nrm(2,"span",8),t.k0s()()),2&n){t.XpG(2);const e=t.sdS(3);t.R7$(),t.Y8G("nzDropdownMenu",e)}}function D(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.createOwner(o.estate()))}),t.EFF(1,"+"),t.k0s()}}function V(n,a){if(1&n&&t.DNE(0,O,3,1,"td",5)(1,D,2,0,"div",6),2&n){const e=t.XpG();t.vxM(e.owners().length?0:1)}}function $(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"li",10)(2,"div",11)(3,"div",12),t.bIt("click",function(){const o=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.setOwner(l.estate(),o))}),t.EFF(4),t.k0s(),t.nrm(5,"div",13),t.k0s()(),t.j41(6,"nz-dropdown-menu",null,1)(8,"ul",3)(9,"li",14),t.bIt("click",function(){const o=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.editOwner(o))}),t.EFF(10,"\xe9diter"),t.k0s(),t.j41(11,"li",15),t.bIt("click",function(){const o=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.deleteOwner(o))}),t.EFF(12,"supprimer"),t.k0s()()(),t.bVm()}if(2&n){const e=a.$implicit,i=t.sdS(7);t.R7$(4),t.JRh(e.name),t.R7$(),t.Y8G("nzDropdownMenu",i)}}function M(n,a){if(1&n){const e=t.RV6();t.j41(0,"li",17),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.createOwner(o.estate()))}),t.j41(1,"button",18),t.EFF(2,"ajouter un propri\xe9taire"),t.k0s()()}}function I(n,a){if(1&n){const e=t.RV6();t.j41(0,"li",17),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.createOwner())}),t.EFF(1,"ajouter un nouveau propri\xe9taire"),t.k0s()}}function N(n,a){1&n&&t.DNE(0,M,3,0,"li",16)(1,I,2,0,"li",16),2&n&&t.vxM(a.length?0:1)}let P=(()=>{class n extends G.N{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})()}static{this.\u0275cmp=t.VBU({type:n,selectors:[["estate-table-owner-cell"]],features:[t.Vt3],decls:7,vars:3,consts:[["menuOwners","nzDropdownMenu"],["ownerTools","nzDropdownMenu"],["nz-dropdown","",1,"clickable",3,"nzDropdownMenu"],["nz-menu","","nzSelectable",""],[4,"ngFor","ngForOf"],[1,"clickable","rcc"],[1,"empty-field","create"],["nz-dropdown","",1,"empty-field",3,"nzDropdownMenu"],["nz-icon","","nzType","edit","nzTheme","outline"],[1,"empty-field","create",3,"click"],["nz-menu-item",""],[1,"dropdown-line-content"],[2,"flex","1",3,"click"],["nz-dropdown","","nz-icon","","nzType","edit",1,"tool",3,"nzDropdownMenu"],["nz-menu-item","",1,"warning",3,"click"],["nz-menu-item","",1,"error",3,"click"],["nz-menu-item","",1,"primary"],["nz-menu-item","",1,"primary",3,"click"],["nz-button","","nzType","primary"]],template:function(i,o){if(1&i&&(t.DNE(0,R,2,2,"div",2)(1,V,2,1),t.j41(2,"nz-dropdown-menu",null,0)(4,"ul",3),t.DNE(5,$,13,2,"ng-container",4)(6,N,2,1),t.k0s()()),2&i){let l;t.vxM(o.estate().owner?0:1),t.R7$(5),t.Y8G("ngForOf",o.owners()),t.R7$(),t.vxM((l=o.owners())?6:-1,l)}},dependencies:[d.Sq,_.aO,g.c,C.p,s.SO,m.jS,m.CU,p.j3,p.wQ,u.Dn],styles:["[_nghost-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;width:100%!important;height:100%}li[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;width:100%!important}.action[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:center;align-items:center;cursor:pointer}.tool[_ngcontent-%COMP%]{min-width:20px;min-height:20px;background-color:#add8e6;border-radius:50%}.create[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:row nowrap;align-items:center;justify-content:center;cursor:pointer}.dropdown-line-content[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;width:200px}"]})}}return n})();var L=r(1257);const X=n=>({paid:n});function B(n,a){1&n&&t.nrm(0,"div",14)}function S(n,a){if(1&n&&(t.j41(0,"div",6),t.EFF(1),t.DNE(2,B,1,0,"div",14),t.k0s()),2&n){let e;const i=t.XpG(2);t.Y8G("ngClass",t.eq3(3,X,i.estate().actualMonthPaid)),t.R7$(),t.SpI(" ",null==(e=i.estate().lodger)?null:e.name," "),t.R7$(),t.vxM(i.estate().rentReceiptSentByEmail?2:-1)}}function Y(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",15),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.createLodger())}),t.nrm(1,"div",16),t.k0s()}}function J(n,a){if(1&n&&(t.j41(0,"li",8)(1,"div",17),t.EFF(2,"g\xe9rer les quittances"),t.k0s()()),2&n){t.XpG();const e=t.sdS(10);t.R7$(),t.Y8G("nzDropdownMenu",e)("nzPlacement","topLeft")}}function U(n,a){if(1&n&&(t.j41(0,"li",8)(1,"td",18),t.EFF(2,"mettre un locataire"),t.k0s()()),2&n){t.XpG();const e=t.sdS(28);t.R7$(),t.Y8G("nzDropdownMenu",e)}}function A(n,a){}function Q(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"li",8)(2,"div",19)(3,"div",20),t.bIt("click",function(){const o=t.eBV(e).$implicit,l=t.XpG(2);return t.Njj(l.setLodger(o))}),t.EFF(4),t.k0s(),t.j41(5,"div",21),t.bIt("click",function(){const o=t.eBV(e).$implicit,l=t.XpG(2);return t.Njj(l.deleteLodger(o))}),t.k0s()()(),t.bVm()}if(2&n){const e=a.$implicit;t.R7$(4),t.JRh(e.name)}}function H(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"li",8)(2,"div",19)(3,"div",20),t.bIt("click",function(){const o=t.eBV(e).$implicit,l=t.XpG(2);return t.Njj(l.setLodger(o))}),t.EFF(4),t.k0s(),t.j41(5,"div",21),t.bIt("click",function(){const o=t.eBV(e).$implicit,l=t.XpG(2);return t.Njj(l.deleteLodger(o))}),t.k0s()()(),t.bVm()}if(2&n){const e=a.$implicit;t.R7$(4),t.JRh(e.name)}}function Z(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",5),t.DNE(1,S,3,5,"div",6)(2,Y,2,0,"div",4),t.k0s(),t.j41(3,"nz-dropdown-menu",null,0)(5,"ul",7),t.DNE(6,J,3,2,"li",8)(7,U,3,1,"li",8)(8,A,0,0),t.k0s()(),t.j41(9,"nz-dropdown-menu",null,1)(11,"ul",7)(12,"li",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.downloadRentReceipt())}),t.EFF(13,"t\xe9l\xe9charger quittance mensuelle"),t.k0s(),t.j41(14,"li",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.senddRentReceipt())}),t.EFF(15,"envoyer quittance mensuelle par email"),t.k0s(),t.j41(16,"li",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.downloadCustomizedRentReceipt())}),t.EFF(17,"quittance personnalis\xe9e"),t.k0s()()(),t.j41(18,"nz-dropdown-menu",null,2)(20,"ul"),t.DNE(21,Q,6,1,"ng-container",10),t.j41(22,"li",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.setLodger(null))}),t.EFF(23,"vacant"),t.k0s(),t.j41(24,"li",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createLodger())}),t.j41(25,"button",13),t.EFF(26,"ajouter un locataire"),t.k0s()()()(),t.j41(27,"nz-dropdown-menu",null,3)(29,"ul",7),t.DNE(30,H,6,1,"ng-container",10),t.j41(31,"li",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.setLodger(null))}),t.EFF(32,"vacant"),t.k0s(),t.j41(33,"li",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createLodger())}),t.j41(34,"button",13),t.EFF(35,"ajouter un locataire"),t.k0s()()()()}if(2&n){const e=t.sdS(4),i=t.XpG();t.Y8G("nzDropdownMenu",e)("nzPlacement","bottomCenter"),t.R7$(),t.vxM(i.estate().lodger?1:2),t.R7$(5),t.vxM(i.estate().lodger?6:-1),t.R7$(),t.vxM(i.lodgers().length?7:8),t.R7$(14),t.Y8G("ngForOf",i.lodgers()),t.R7$(9),t.Y8G("ngForOf",i.lodgers())}}function K(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",15),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createLodger())}),t.nrm(1,"div",16),t.k0s()}}let W=(()=>{class n extends L.t{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})()}static{this.\u0275cmp=t.VBU({type:n,selectors:[["estate-table-lodger-cell"]],features:[t.Vt3],decls:2,vars:1,consts:[["manageLodgers","nzDropdownMenu"],["manageRentReceipts","nzDropdownMenu"],["putLodger","nzDropdownMenu"],["menuLodgers","nzDropdownMenu"],[1,"empty-field","create"],["nz-dropdown","",3,"nzDropdownMenu","nzPlacement"],[1,"lodger-name",3,"ngClass"],["nz-menu","","nzSelectable",""],["nz-menu-item",""],["nz-menu-item","",3,"click"],[4,"ngFor","ngForOf"],["nz-menu-item","",1,"italic",2,"flex","1",3,"click"],["nz-menu-item","",1,"primary",3,"click"],["nz-button","","nzType","primary"],["nz-icon","","nzType","mail",1,"sent"],[1,"empty-field","create",3,"click"],["nz-icon","","nzType","edit"],["nz-dropdown","",1,"clickable",3,"nzDropdownMenu","nzPlacement"],["nz-dropdown","",1,"clickable",3,"nzDropdownMenu"],[1,"dropdown-line-content"],[2,"flex","1",3,"click"],["nz-icon","","nzType","delete",1,"delete",3,"click"]],template:function(i,o){1&i&&t.DNE(0,Z,36,7)(1,K,2,0,"div",4),2&i&&t.vxM(o.lodgers().length?0:1)},dependencies:[d.YU,d.Sq,_.aO,g.c,C.p,s.SO,m.jS,m.CU,p.j3,p.wQ,u.Dn],styles:["[_nghost-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;width:100%!important;height:100%}li[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;width:100%!important}.action[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:center;align-items:center;cursor:pointer}.tool[_ngcontent-%COMP%]{min-width:20px;min-height:20px;background-color:#add8e6;border-radius:50%}.create[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:row nowrap;align-items:center;justify-content:center;cursor:pointer}.dropdown-line-content[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;width:200px}.lodger-name[_ngcontent-%COMP%]{padding:0 10px;border-radius:5px;position:relative}.lodger-name.paid[_ngcontent-%COMP%]{color:var(--ant-success-color);background-color:var(--ant-success-color-deprecated-bg)}.sent[_ngcontent-%COMP%]{right:-10px;bottom:-10px;position:absolute;box-shadow:-.5px .5px 0 0 var(--ant-success-color);background-color:var(--color-papper-background);color:var(--color-papper-font);border-radius:50px;width:20px;height:20px;font-size:10px;display:flex;flex-flow:row nowrap;align-items:center;justify-content:center}"]})}}return n})();function q(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",10),t.bIt("click",function(){const o=t.eBV(e).$implicit,l=t.sdS(7),c=t.XpG();return t.Njj(c.startEdit(o.id+"plot",l))}),t.j41(4,"div",11),t.EFF(5),t.k0s(),t.j41(6,"input",12,1),t.bIt("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.stopEdit())})("change",function(){const o=t.eBV(e).$implicit,l=t.sdS(7),c=t.XpG();return t.Njj(c.edit(o,"plot",l))}),t.k0s()(),t.j41(8,"td",10),t.bIt("click",function(){const o=t.eBV(e).$implicit,l=t.sdS(12),c=t.XpG();return t.Njj(c.startEdit(o.id+"rent",l))}),t.j41(9,"div",11),t.EFF(10),t.k0s(),t.j41(11,"input",13,2),t.bIt("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.stopEdit())})("change",function(){const o=t.eBV(e).$implicit,l=t.sdS(12),c=t.XpG();return t.Njj(c.edit(o,"rent",l))}),t.k0s()(),t.j41(13,"td",10),t.bIt("click",function(){const o=t.eBV(e).$implicit,l=t.sdS(17),c=t.XpG();return t.Njj(c.startEdit(o.id+"charges",l))}),t.j41(14,"div",11),t.EFF(15),t.k0s(),t.j41(16,"input",13,3),t.bIt("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.stopEdit())})("change",function(){const o=t.eBV(e).$implicit,l=t.sdS(17),c=t.XpG();return t.Njj(c.edit(o,"charges",l))}),t.k0s()(),t.j41(18,"td"),t.nrm(19,"estate-table-owner-cell",14),t.k0s(),t.j41(20,"td"),t.nrm(21,"estate-table-lodger-cell",14),t.k0s(),t.j41(22,"td")(23,"div",15)(24,"div",16),t.bIt("click",function(){const o=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.deleteEstate(o))}),t.k0s()()()()}if(2&n){const e=a.$implicit,i=t.XpG();t.R7$(2),t.JRh(e.address),t.R7$(2),t.Y8G("hidden",i.editId===e.id+"plot"),t.R7$(),t.JRh(e.plot),t.R7$(),t.Y8G("value",e.plot)("hidden",i.editId!==e.id+"plot"),t.R7$(3),t.Y8G("hidden",i.editId===e.id+"rent"),t.R7$(),t.JRh(e.rent),t.R7$(),t.Y8G("value",e.rent)("hidden",i.editId!==e.id+"rent"),t.R7$(3),t.Y8G("hidden",i.editId===e.id+"charges"),t.R7$(),t.JRh(e.charges),t.R7$(),t.Y8G("value",e.charges)("hidden",i.editId!==e.id+"charges"),t.R7$(3),t.Y8G("estate",e),t.R7$(2),t.Y8G("estate",e)}}const tt=[{path:"",component:(()=>{class n extends y.y{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})()}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-estates"]],features:[t.Vt3],decls:27,vars:2,consts:[["tables",""],["editableParcelInput",""],["editableRentInput",""],["editableChargesInput",""],[1,"table-component"],[1,"header"],["nz-button","","nzType","default",3,"click"],[1,"container"],[3,"nzData"],[4,"ngFor","ngForOf"],[1,"editable-cell-number","clickable",3,"click"],[3,"hidden"],["nz-demo-input-text-basic","","type","text",3,"blur","change","value","hidden"],["nz-demo-input-number-basic","","type","number",3,"blur","change","value","hidden"],[3,"estate"],[1,"action"],["nz-icon","","nzType","delete",1,"delete",3,"click"]],template:function(i,o){if(1&i){const l=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"button",6),t.bIt("click",function(){return t.eBV(l),t.Njj(o.openCreateEstatePopup())}),t.EFF(3,"Ajouter un bien"),t.k0s(),t.j41(4,"button",6),t.bIt("click",function(){return t.eBV(l),t.Njj(o.synchronizeGoogleSheet())}),t.EFF(5,"synchroniser google sheet"),t.k0s()(),t.j41(6,"div",7)(7,"nz-table",8,0)(9,"thead")(10,"tr")(11,"th"),t.EFF(12,"adresse"),t.k0s(),t.j41(13,"th"),t.EFF(14,"lot"),t.k0s(),t.j41(15,"th"),t.EFF(16,"loyer"),t.k0s(),t.j41(17,"th"),t.EFF(18,"charges"),t.k0s(),t.j41(19,"th"),t.EFF(20,"propri\xe9taire"),t.k0s(),t.j41(21,"th"),t.EFF(22,"locataire"),t.k0s(),t.j41(23,"th"),t.EFF(24,"Actions"),t.k0s()()(),t.j41(25,"tbody"),t.DNE(26,q,25,15,"tr",9),t.k0s()()()()}if(2&i){const l=t.sdS(8);t.R7$(7),t.Y8G("nzData",o.estates()),t.R7$(19),t.Y8G("ngForOf",l.data)}},dependencies:[d.Sq,_.aO,g.c,C.p,s.CP,s.SO,s._4,s.IL,s.aj,s.kt,u.Dn,P,W],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;padding:20px}"]})}}return n})()}];let et=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[j.iI.forChild(tt),j.iI]})}}return n})(),nt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[d.MD,b.X1,et,E.md.forFeature("estates",z.i),k.Vm.forFeature(F.u),T.j,h.H,v.X,_.Zw,x.U6,s.$G,w.GP,p.Cu,u.Y3]})}}return n})()}}]);